/**
 * Tests for v6.1 agent registration constants
 * Verifies that docs and designer agents are properly registered
 */
import { describe, test, expect } from 'bun:test';
import {
	ALL_SUBAGENT_NAMES,
	ALL_AGENT_NAMES,
	PIPELINE_AGENTS,
	DEFAULT_MODELS,
} from '../../../src/config/constants';

describe('v6.1 Agent Registration Constants', () => {
	describe('ALL_SUBAGENT_NAMES', () => {
		test('"docs" is in ALL_SUBAGENT_NAMES', () => {
			expect(ALL_SUBAGENT_NAMES).toContain('docs');
		});

		test('"designer" is in ALL_SUBAGENT_NAMES', () => {
			expect(ALL_SUBAGENT_NAMES).toContain('designer');
		});
	});

	describe('ALL_AGENT_NAMES', () => {
		test('"docs" is in ALL_AGENT_NAMES', () => {
			expect(ALL_AGENT_NAMES).toContain('docs');
		});

		test('"designer" is in ALL_AGENT_NAMES', () => {
			expect(ALL_AGENT_NAMES).toContain('designer');
		});

		test('"architect" is in ALL_AGENT_NAMES', () => {
			expect(ALL_AGENT_NAMES).toContain('architect');
		});
	});

	describe('PIPELINE_AGENTS', () => {
		test('PIPELINE_AGENTS does NOT contain "docs"', () => {
			expect(PIPELINE_AGENTS).not.toContain('docs');
		});

		test('PIPELINE_AGENTS does NOT contain "designer"', () => {
			expect(PIPELINE_AGENTS).not.toContain('designer');
		});

		test('PIPELINE_AGENTS contains expected pipeline agents', () => {
			expect(PIPELINE_AGENTS).toContain('explorer');
			expect(PIPELINE_AGENTS).toContain('coder');
			expect(PIPELINE_AGENTS).toContain('test_engineer');
		});
	});

	describe('DEFAULT_MODELS', () => {
		test('DEFAULT_MODELS has "docs" key with "google/gemini-2.0-flash"', () => {
			expect(DEFAULT_MODELS.docs).toBe('google/gemini-2.0-flash');
		});

		test('DEFAULT_MODELS has "designer" key with "google/gemini-2.0-flash"', () => {
			expect(DEFAULT_MODELS.designer).toBe('google/gemini-2.0-flash');
		});

		test('DEFAULT_MODELS has "architect" key', () => {
			expect(DEFAULT_MODELS.architect).toBeDefined();
		});

		test('DEFAULT_MODELS has "default" fallback key', () => {
			expect(DEFAULT_MODELS.default).toBeDefined();
		});
	});
});
